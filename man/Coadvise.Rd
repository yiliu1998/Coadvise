% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/Coadvise.R
\name{Coadvise}
\alias{Coadvise}
\title{Covariate adjustment with variable selection in randomized clinical trials}
\usage{
Coadvise(
  Y,
  A,
  trt.name,
  ctrl.name,
  X = NA,
  conti.out,
  var.sel.method = "Lasso",
  lasso.family = "gaussian",
  A.lasso.family = "gaussian",
  out1.model.aipw = "linear",
  out0.model.aipw = "linear",
  k = 1,
  xi = 0.25,
  pre.alpha = 0.05,
  conf.level = 0.05,
  MI.method = "cc",
  seed = 4399
)
}
\arguments{
\item{Y}{Vector of observed outcomes}

\item{A}{Vector of treatment assignments, which can be binary or multi-level, but values must be categorical or integers; if binary, we suggest to use 0 for the control and 1 for the treated group}

\item{trt.name}{Value of the active treatment in the treatment vector `A`; must exactly match the value type in `A`, e.g., 1 for number while "1" for character}

\item{ctrl.name}{Value of the control in the treatment vector `A`; must exactly match the value type in `A`, e.g., 0 for number while "0" for character}

\item{X}{Covariate vector (only one covariate) or matrix/data frame (multiple covariates)}

\item{conti.out}{Specify whether the outcome is continous, `TRUE` or `FALSE`, with no default value}

\item{var.sel.method}{Variable selection method for COADVISE stage I, including the following available options:
`No` (Use all covariates without selection), `Lasso` (Lasso, which is the default choice), `A.Lasso` (Adaptive Lasso),
`Corr.k` (Select k covariates with highest correlations with the outcome; k is between 1 and total number of covariates),
`Corr.xi` (Select all covariates with correlation > xi with the outcome; xi is between 0 and 1),
`Pre.test` (A preliminary two sample t-test on each single covariate)}

\item{lasso.family}{GLM model family for Lasso (`Lasso`) variable selection based on outcome type, chosen from `gaussian`, `binomial`, `poisson`, and `multinomial`; default is `gaussian`}

\item{A.lasso.family}{GLM model family for adaptive Lasso (`A.Lasso`) variable selection based on outcome type, chosen from `gaussian`, `binomial`, `poisson`, and `multinomial`; default is `gaussian`}

\item{out1.model.aipw}{Model for E(Y(1)|X) in AIPW estimator. We allow the use of the following models:
(i) For continuous outcome (but can also for other types): `linear` (the linear model);
(ii) For binary outcome: `logit`, `probit`, `log`, `cloglog`, `identity`;
(iii) For categorical outcome more than two categories: `poisson`, `multilogi` (multinomial logistic), `ordlogi` (ordinal logistic)}

\item{out0.model.aipw}{Model for E(Y(0)|X) in AIPW estimator. Same argument choices as `out1.model.aipw`}

\item{k}{Number of selected covariates, only if the `Corr.k` variable selection method is used; default is `1`}

\item{xi}{Threshold of marginal correlation, only if the `Corr.xi` variable selection method is used; default is `0.25`}

\item{pre.alpha}{Confidence (significance) level of preliminary test; default is `0.05` (for a 0.95 confidence interval)}

\item{conf.level}{Confidence (significance) level of confidence interval of the ATE; default is `0.05` (for a 0.95 confidence interval)}

\item{MI.method}{Missing data imputation method if there is missing values in any outcome or covariates;
notice that the treatment is not allowed (or assumed) to be missing in RCT;
values chosen from: `cc` (complete-case),
`mice` (multiple imputation by chain equation),
`missForest` (random forest),
`missInd` (missingness indicator method) for missing covariates only, and
`ipw` (inverse probability weighting) for missing outcome only.
If there is no missing data, no method will be implemented even the value is specified.}

\item{seed}{Seed for generating random numbers, when using Lasso or adaptive Lasso; default is `4399`}
}
\value{
The function returns a list of three components: (i) `df.fit`: results on ATE estimates, standard errors, CIs and p-values by
        simple, ANCOVA, ANHECOVA and AIPW estimators under the chosen variable selection method; (ii) `stage1.covars`: a list of covariates
        data frames by the first variable selection step, including the variable selection for all ANCOVA, ANHECOVA and AIPW methods;
        (iii) `AIPW.out.means`: the vector of outcome means of the two comparison groups and the covariance matrix.
}
\description{
Covariate adjustment with variable selection in randomized clinical trials
}
